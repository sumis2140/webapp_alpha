{"ast":null,"code":"// ag-grid-react v27.1.0\n\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ag_grid_community_1 = require(\"ag-grid-community\");\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_dom_1 = require(\"react-dom\");\n\nvar beansContext_1 = require(\"../beansContext\");\n\nvar PopupEditorComp = function (props) {\n  var _a = react_1.useState(),\n      popupEditorWrapper = _a[0],\n      setPopupEditorWrapper = _a[1];\n\n  var _b = react_1.useContext(beansContext_1.BeansContext),\n      context = _b.context,\n      popupService = _b.popupService,\n      gridOptionsWrapper = _b.gridOptionsWrapper;\n\n  react_1.useEffect(function () {\n    var editDetails = props.editDetails,\n        cellCtrl = props.cellCtrl,\n        eParentCell = props.eParentCell;\n    var compDetails = editDetails.compDetails;\n    var useModelPopup = gridOptionsWrapper.isStopEditingWhenCellsLoseFocus();\n    var wrapper = context.createBean(new ag_grid_community_1.PopupEditorWrapper(compDetails.params));\n    var ePopupGui = wrapper.getGui();\n\n    if (props.jsChildComp) {\n      var eChildGui = props.jsChildComp.getGui();\n\n      if (eChildGui) {\n        ePopupGui.appendChild(eChildGui);\n      }\n    }\n\n    var positionParams = {\n      column: cellCtrl.getColumn(),\n      rowNode: cellCtrl.getRowNode(),\n      type: 'popupCellEditor',\n      eventSource: eParentCell,\n      ePopup: ePopupGui,\n      keepWithinBounds: true\n    };\n    var positionCallback = editDetails.popupPosition === 'under' ? popupService.positionPopupUnderComponent.bind(popupService, positionParams) : popupService.positionPopupOverComponent.bind(popupService, positionParams);\n    var translate = gridOptionsWrapper.getLocaleTextFunc();\n    var addPopupRes = popupService.addPopup({\n      modal: useModelPopup,\n      eChild: ePopupGui,\n      closeOnEsc: true,\n      closedCallback: function () {\n        cellCtrl.onPopupEditorClosed();\n      },\n      anchorToElement: eParentCell,\n      positionCallback: positionCallback,\n      ariaLabel: translate('ariaLabelCellEditor', 'Cell Editor')\n    });\n    var hideEditorPopup = addPopupRes ? addPopupRes.hideFunc : undefined;\n    setPopupEditorWrapper(wrapper);\n    props.jsChildComp && props.jsChildComp.afterGuiAttached && props.jsChildComp.afterGuiAttached();\n    return function () {\n      if (hideEditorPopup != null) {\n        hideEditorPopup();\n      }\n\n      context.destroyBean(wrapper);\n    };\n  }, []);\n  return react_1.default.createElement(react_1.default.Fragment, null, popupEditorWrapper && props.wrappedContent && react_dom_1.createPortal(props.wrappedContent, popupEditorWrapper.getGui()));\n};\n\nexports.default = react_1.memo(PopupEditorComp);","map":{"version":3,"sources":["/home/fraction/Music/Fraction-webapp/node_modules/ag-grid-react/lib/reactUi/cells/popupEditorComp.js"],"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","defineProperty","exports","value","ag_grid_community_1","require","react_1","react_dom_1","beansContext_1","PopupEditorComp","props","_a","useState","popupEditorWrapper","setPopupEditorWrapper","_b","useContext","BeansContext","context","popupService","gridOptionsWrapper","useEffect","editDetails","cellCtrl","eParentCell","compDetails","useModelPopup","isStopEditingWhenCellsLoseFocus","wrapper","createBean","PopupEditorWrapper","params","ePopupGui","getGui","jsChildComp","eChildGui","appendChild","positionParams","column","getColumn","rowNode","getRowNode","type","eventSource","ePopup","keepWithinBounds","positionCallback","popupPosition","positionPopupUnderComponent","bind","positionPopupOverComponent","translate","getLocaleTextFunc","addPopupRes","addPopup","modal","eChild","closeOnEsc","closedCallback","onPopupEditorClosed","anchorToElement","ariaLabel","hideEditorPopup","hideFunc","undefined","afterGuiAttached","destroyBean","default","createElement","Fragment","wrappedContent","createPortal","memo"],"mappings":"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","sourcesContent":["// ag-grid-react v27.1.0\n\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ag_grid_community_1 = require(\"ag-grid-community\");\nvar react_1 = __importStar(require(\"react\"));\nvar react_dom_1 = require(\"react-dom\");\nvar beansContext_1 = require(\"../beansContext\");\nvar PopupEditorComp = function (props) {\n    var _a = react_1.useState(), popupEditorWrapper = _a[0], setPopupEditorWrapper = _a[1];\n    var _b = react_1.useContext(beansContext_1.BeansContext), context = _b.context, popupService = _b.popupService, gridOptionsWrapper = _b.gridOptionsWrapper;\n    react_1.useEffect(function () {\n        var editDetails = props.editDetails, cellCtrl = props.cellCtrl, eParentCell = props.eParentCell;\n        var compDetails = editDetails.compDetails;\n        var useModelPopup = gridOptionsWrapper.isStopEditingWhenCellsLoseFocus();\n        var wrapper = context.createBean(new ag_grid_community_1.PopupEditorWrapper(compDetails.params));\n        var ePopupGui = wrapper.getGui();\n        if (props.jsChildComp) {\n            var eChildGui = props.jsChildComp.getGui();\n            if (eChildGui) {\n                ePopupGui.appendChild(eChildGui);\n            }\n        }\n        var positionParams = {\n            column: cellCtrl.getColumn(),\n            rowNode: cellCtrl.getRowNode(),\n            type: 'popupCellEditor',\n            eventSource: eParentCell,\n            ePopup: ePopupGui,\n            keepWithinBounds: true\n        };\n        var positionCallback = editDetails.popupPosition === 'under' ?\n            popupService.positionPopupUnderComponent.bind(popupService, positionParams)\n            : popupService.positionPopupOverComponent.bind(popupService, positionParams);\n        var translate = gridOptionsWrapper.getLocaleTextFunc();\n        var addPopupRes = popupService.addPopup({\n            modal: useModelPopup,\n            eChild: ePopupGui,\n            closeOnEsc: true,\n            closedCallback: function () { cellCtrl.onPopupEditorClosed(); },\n            anchorToElement: eParentCell,\n            positionCallback: positionCallback,\n            ariaLabel: translate('ariaLabelCellEditor', 'Cell Editor')\n        });\n        var hideEditorPopup = addPopupRes ? addPopupRes.hideFunc : undefined;\n        setPopupEditorWrapper(wrapper);\n        props.jsChildComp && props.jsChildComp.afterGuiAttached && props.jsChildComp.afterGuiAttached();\n        return function () {\n            if (hideEditorPopup != null) {\n                hideEditorPopup();\n            }\n            context.destroyBean(wrapper);\n        };\n    }, []);\n    return (react_1.default.createElement(react_1.default.Fragment, null, popupEditorWrapper && props.wrappedContent\n        && react_dom_1.createPortal(props.wrappedContent, popupEditorWrapper.getGui())));\n};\nexports.default = react_1.memo(PopupEditorComp);\n"]},"metadata":{},"sourceType":"script"}