{"ast":null,"code":"import _defineProperty from\"/home/fraction/Music/Vsumm_webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/fraction/Music/Vsumm_webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/fraction/Music/Vsumm_webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import{AgGridReact}from'ag-grid-react';import'ag-grid-community/dist/styles/ag-grid.css';import'ag-grid-community/dist/styles/ag-theme-alpine.css';import{Grid,Button}from'@material-ui/core';import FormDialog from'./components/dialog';var initialValue={name:\"\",email:\"\",phone:\"\",videolink:\"\"};function Gridpopup(){var actionButton=function actionButton(params){setOpen(true);// <ReactPlayer url='https://www.youtube.com/watch?v=uMQnn8xU7qs' />\n};var _useState=useState(null),_useState2=_slicedToArray(_useState,2),gridApi=_useState2[0],setGridApi=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),tableData=_useState4[0],setTableData=_useState4[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useState5=useState(initialValue),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setFormData=_useState6[1];var handleClose=function handleClose(){setOpen(false);setFormData(initialValue);};var url=\"https://vsumm.github.io/jsonapi/db.json\";var columnDefs=[{headerName:\"ID\",field:\"id\"},{headerName:\"Name\",field:\"name\"},{headerName:\"Email\",field:\"email\"},{headerName:\"Phone\",field:\"phone\"},{headerName:\"VideoLink\",field:\"dob\"},{headerName:\"Actions\",field:\"dob\",cellRendererFramework:function cellRendererFramework(params){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"contained\",size:\"medium\",color:\"primary\",onClick:function onClick(){return actionButton(params);}},\"Play\"));}}];// calling getUsers function for first time \nuseEffect(function(){getUsers();},[]);//fetching user data from server\nvar getUsers=function getUsers(){fetch(url).then(function(resp){return resp.json();}).then(function(resp){return setTableData(resp);});};var onChange=function onChange(e){var _e$target=e.target,value=_e$target.value,id=_e$target.id;// console.log(value,id)\nsetFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},id,value)));};var onGridReady=function onGridReady(params){setGridApi(params);};//deleting a user\nvar handleDelete=function handleDelete(id){var confirm=window.confirm(\"Are you sure, you want to delete this row\",id);if(confirm){fetch(url+\"/\".concat(id),{method:\"DELETE\"}).then(function(resp){return resp.json();}).then(function(resp){return getUsers();});}};var handleFormSubmit=function handleFormSubmit(){if(formData.id){//updating a user \nvar confirm=window.confirm(\"Are you sure, you want to update this row ?\");confirm&&fetch(url+\"/\".concat(formData.id),{method:\"PUT\",body:JSON.stringify(formData),headers:{'content-type':\"application/json\"}}).then(function(resp){return resp.json();}).then(function(resp){handleClose();getUsers();});}else{// adding new user\nfetch(url,{method:\"POST\",body:JSON.stringify(formData),headers:{'content-type':\"application/json\"}}).then(function(resp){return resp.json();}).then(function(resp){handleClose();getUsers();});}};var defaultColDef={sortable:true,flex:1,filter:true,floatingFilter:true};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h1\",{align:\"center\"},\"Fraction Webapp\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Fraction video Player\"),/*#__PURE__*/React.createElement(\"div\",{className:\"ag-theme-alpine\",style:{height:'400px'}},/*#__PURE__*/React.createElement(AgGridReact,{rowData:tableData,columnDefs:columnDefs,defaultColDef:defaultColDef,onGridReady:onGridReady})),/*#__PURE__*/React.createElement(FormDialog,{open:open,handleClose:handleClose,data:formData,onChange:onChange,handleFormSubmit:handleFormSubmit}));}export default Gridpopup;","map":{"version":3,"sources":["/home/fraction/Music/Vsumm_webapp/src/components/Grid-Table/App.js"],"names":["React","useState","useEffect","AgGridReact","Grid","Button","FormDialog","initialValue","name","email","phone","videolink","Gridpopup","actionButton","params","setOpen","gridApi","setGridApi","tableData","setTableData","open","formData","setFormData","handleClose","url","columnDefs","headerName","field","cellRendererFramework","getUsers","fetch","then","resp","json","onChange","e","target","value","id","onGridReady","handleDelete","confirm","window","method","handleFormSubmit","body","JSON","stringify","headers","defaultColDef","sortable","flex","filter","floatingFilter","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport { Grid, Button } from '@material-ui/core'\nimport FormDialog from './components/dialog';\nconst initialValue = { name: \"\", email: \"\", phone: \"\", videolink: \"\" }\nfunction Gridpopup() {\n  const actionButton = (params) => {\n    setOpen(true)\n    // <ReactPlayer url='https://www.youtube.com/watch?v=uMQnn8xU7qs' />\n    \n  }\n\n  const [gridApi, setGridApi] = useState(null)\n  const [tableData, setTableData] = useState(null)\n  const [open, setOpen] = React.useState(false);\n  const [formData, setFormData] = useState(initialValue)\n  \n\n  const handleClose = () => {\n    setOpen(false);\n    setFormData(initialValue)\n  };\n  const url = `https://vsumm.github.io/jsonapi/db.json`\n  const columnDefs = [\n    { headerName: \"ID\", field: \"id\" },\n    { headerName: \"Name\", field: \"name\", },\n    { headerName: \"Email\", field: \"email\", },\n    { headerName: \"Phone\", field: \"phone\" },\n    { headerName: \"VideoLink\", field: \"dob\" },\n    {\n      headerName: \"Actions\", field: \"dob\", cellRendererFramework: (params) => <div>\n        <Button variant=\"contained\" size=\"medium\" color=\"primary\" onClick={()=> actionButton(params)} >Play</Button>\n        {/* <Button variant=\"outlined\" color=\"secondary\" onClick={() => handleDelete(params.value)}>Delete</Button> */}\n        \n      </div>\n   \n    }\n    \n  ]\n  // calling getUsers function for first time \n  useEffect(() => {\n    getUsers()\n  }, [])\n\n  //fetching user data from server\n  const getUsers = () => {\n    fetch(url).then(resp => resp.json()).then(resp => setTableData(resp))\n  }\n  const onChange = (e) => {\n    const { value, id } = e.target\n    // console.log(value,id)\n    setFormData({ ...formData, [id]: value })\n  }\n  const onGridReady = (params) => {\n    setGridApi(params)\n  }\n\n  \n  //deleting a user\n  const handleDelete = (id) => {\n    const confirm = window.confirm(\"Are you sure, you want to delete this row\", id)\n    if (confirm) {\n      fetch(url + `/${id}`, { method: \"DELETE\" }).then(resp => resp.json()).then(resp => getUsers())\n\n    }\n  }\n  const handleFormSubmit = () => {\n    if (formData.id) {\n      //updating a user \n      const confirm = window.confirm(\"Are you sure, you want to update this row ?\")\n      confirm && fetch(url + `/${formData.id}`, {\n        method: \"PUT\", body: JSON.stringify(formData), headers: {\n          'content-type': \"application/json\"\n        }\n      }).then(resp => resp.json())\n        .then(resp => {\n          handleClose()\n          getUsers()\n\n        })\n    } else {\n      // adding new user\n      fetch(url, {\n        method: \"POST\", body: JSON.stringify(formData), headers: {\n          'content-type': \"application/json\"\n        }\n      }).then(resp => resp.json())\n        .then(resp => {\n          handleClose()\n          getUsers()\n        })\n    }\n  }\n\n  const defaultColDef = {\n    sortable: true,\n    flex: 1, filter: true,\n    floatingFilter: true\n  }\n  return (\n    <div className=\"App\">\n      <h1 align=\"center\">Fraction Webapp</h1>\n      <h3>Fraction video Player</h3>\n     \n      <div className=\"ag-theme-alpine\" style={{ height: '400px' }}>\n        <AgGridReact\n          rowData={tableData}\n          columnDefs={columnDefs}\n          defaultColDef={defaultColDef}\n          onGridReady={onGridReady}\n        />\n      </div>\n      <FormDialog open={open} handleClose={handleClose}\n        data={formData} onChange={onChange} handleFormSubmit={handleFormSubmit} />\n    </div>\n  );\n}\n\nexport default Gridpopup;"]},"metadata":{},"sourceType":"module"}